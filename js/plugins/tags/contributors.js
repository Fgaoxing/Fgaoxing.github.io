const ContributorsJS={requestAPI:(t,r,e)=>{let a=5;function o(){return new Promise((n,l)=>{let s=0,i=setTimeout(()=>{0===s&&(s=2,i=null,l("请求超时"),0==a&&e())},5e3);fetch(t).then(function(t){if(2!==s&&(clearTimeout(i),n(t),i=null,s=1),t.ok)return t.json();throw Error("Network response was not ok.")}).then(function(t){a=0,r(t)}).catch(function(t){a>0?(a-=1,setTimeout(()=>{o()},5e3)):e()})})}o()},layout:t=>{let r=t.el;ContributorsJS.requestAPI(t.api,function(e){r.querySelector(".loading-wrap").remove();var a="";(e||[]).forEach((r,e)=>{var o='<div class="user-card">';o+='<a class="card-link" target="_blank" rel="external noopener noreferrer" href="'+r.html_url+'">'+('<img alt="'+r.login+'" src="')+(r.avatar_url||t.avatar)+'" onerror="errorImgAvatar(this)"><div class="name"><span>'+r.login+"</span></div></a></div>",a+=o}),r.querySelector(".group-body").innerHTML=a},function(){try{r.querySelector(".loading-wrap svg").remove(),r.querySelector(".loading-wrap p").innerText("加载失败，请稍后重试。")}catch(t){}})},start:()=>{let t=document.getElementsByClassName("contributorsjs-wrap");for(var r=0;r<t.length;r++){let e=t[r],a=e.getAttribute("api");if(null!=a){var o={};o.el=e,o.api=a,o.class=e.getAttribute("class"),o.avatar=volantis.GLOBAL_CONFIG.default.avatar,ContributorsJS.layout(o)}}}};ContributorsJS.start(),document.addEventListener("pjax:complete",function(){ContributorsJS.start()});