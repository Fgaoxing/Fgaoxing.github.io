Jian={debug:!0,var:{},console:{success:e=>{Jian.debug&&console.log(`%c${e}`,"border-left: 5px solid green;box-shadow: 0 0 32px 0 #79797951;text-decoration: none;border-radius: 3px;color:white !important;background:black;padding: 3px;")},warning:e=>{Jian.debug&&console.log(`%c${e}`,"border-left: 5px solid yellow;box-shadow: 0 0 32px 0 #79797951;text-decoration: none;border-radius: 3px;color:white !important;background:black;padding: 3px;")},info:e=>{Jian.debug&&console.log(`%c${e}`,"border-left: 5px solid dodgerblue;box-shadow: 0 0 32px 0 #79797951;text-decoration: none;border-radius: 3px;color:white !important;background:black;padding: 3px;")},error:e=>{Jian.debug&&console.log(`%c${e}`,"border-left: 5px solid red;box-shadow: 0 0 32px 0 #79797951;text-decoration: none;border-radius: 3px;color:white !important;background:black;padding: 3px;")},debug:e=>{Jian.debug&&console.log(`%c${e}`,"border-left: 5px solid gray;box-shadow: 0 0 32px 0 #79797951;text-decoration: none;border-radius: 3px;color:white !important;background:black;padding: 3px;")},logo:()=>{console.log("%c     _ _             \n    | (_) __ _ _ __  \n _  | | |/ _\\` | '_ \\\n| |_| | | (_| | | | |\n \\___/|_|\\__,_|_| |_|","color:white;!important;background:dodgerblue;padding: 3px;text-align: center;")}},plugins:{lazyload:function(){var e=document.documentElement.clientHeight,n=document.querySelectorAll("img[lazyload]");Array.prototype.forEach.call(n,(function(n,t){var o,a;""!==n.getAttribute("lazyload")&&((o=n.getBoundingClientRect()).bottom>=0&&o.top<e&&((a=new Image).src=n.getAttribute("lazyload"),a.onload=function(){n.src=a.src,Jian.console.success(a.src+" 加载成功");let e=new CustomEvent("Jian:lazyload:load",{detail:{url:a.src,dom:n}});document.dispatchEvent(e),window.dispatchEvent(e)},a.onerror=function(){n.setAttribute("lazyload",a.src),Jian.console.error(a.src+" 加载失败");let e=new CustomEvent("Jian:lazyload:error",{detail:{url:a.src,dom:n}});document.dispatchEvent(e),window.dispatchEvent(e)},n.removeAttribute("lazyload")))}))},read:function(){if(0!==document.body.classList.value.indexOf("read")){document.body.classList.add("read"),document.body.addEventListener("click",Jian.plugins.read);let e=new CustomEvent("Jian:read",{detail:!0});document.dispatchEvent(e),window.dispatchEvent(e)}else{document.body.removeEventListener("click",Jian.plugins.read),document.body.classList.remove("read");let e=new CustomEvent("Jian:read",{detail:!1});document.dispatchEvent(e),window.dispatchEvent(e)}}},onload:{list:[],state:!1,Promise:function(e,...n){return function(){return new Promise((function(){e(...n)}))}},add:function(e,...n){if(this.state)try{e(...n)}catch(n){Jian.console.error(n)}else this.list.push(this.Promise(e,...n));let t=new CustomEvent("Jian:add_onload",{detail:{fn:e,e:n}});document.dispatchEvent(t),window.dispatchEvent(t)},run:function(){for(var e in this.state=!0,this.list){try{this.list[e]()}catch(e){Jian.console.error(e)}delete this.list[e]}let n=new CustomEvent("Jian:onload");document.dispatchEvent(n),window.dispatchEvent(n)}},dark:{set:function(e){Jian.console.info(e?"切换为暗色模式":"切换为亮色模式"),"boolean"!=typeof e&&Jian.console.error("set(n),n must be a boolean"),Jian.var.dark=e;let n=new CustomEvent("Jian:dark_set",{detail:Jian.var.dark});document.dispatchEvent(n),window.dispatchEvent(n),localStorage.setItem("dark",e),e?document.body.classList.add("dark"):document.body.classList.remove("dark")},change:function(){Jian.var.dark?this.set(!1):this.set(!0)}},load:{js:function(e,n=void 0){Jian.onload.add((function(e,n){var t=document.createElement("script");n=n||function(){};window.dispatchEvent(new CustomEvent("Jian:onload_js",{detail:{url:e,fn:n}})),t.type="text/javascript",t.onload=function(){Jian.console.success(e+" 加载成功"),n()},t.onerror=function(){Jian.console.error(e+" 加载失败")},t.src=e,document.getElementsByTagName("head")[0].appendChild(t)}),e,n)},css:function(e,n=void 0){Jian.onload.add((function(e,n=void 0){var t=document.createElement("link");n=n||function(){};window.dispatchEvent(new CustomEvent("Jian:onload_css",{detail:{url:e,fn:n}})),t.rel="stylesheet",t.href=e,t.onload=function(){Jian.console.success(e+" 加载成功"),n()},t.onerror=function(){Jian.console.error(e+" 加载失败")},document.getElementsByTagName("head")[0].appendChild(t)}),e,n)}},msg:function(e){document.msg=document.getElementById("msg");let n=`MsgCard-${(new Date).getTime()}`;document.msg.innerHTML=`<div class="card w-full" id="${n}"><div><div class="title"><i class="${e.icon||""}" style="${e.icon_color?"color:"+e.icon_color:""}"></i> ${e.title||""}</div><div class="text">${e.msg||e.text||""}</div></div></div>`+document.msg.innerHTML,"function"==typeof e.click&&document.getElementById(n).addEventListener("click",e.click);let t=new CustomEvent("Jian:onmsg",{detail:e});document.dispatchEvent(t),window.dispatchEvent(t),setTimeout((function(e){let n=new CustomEvent("Jian:add_onload",{detail:e});document.dispatchEvent(n),window.dispatchEvent(n),document.getElementById(e).remove()}),e.timeout||3e3,n)}},DOMLoadStartTime=(new Date).getTime(),window.addEventListener("DOMContentLoaded",(function(){Jian.console.info("DOM加载完毕，用时"+((new Date).getTime()-DOMLoadStartTime).toString()+"ms"),"true"===localStorage.getItem("dark")&&Jian.dark.set(!0),Jian.console.logo(),Jian.onload.run()})),"/"!==window.location.pathname[window.location.pathname.length-1]&&-1===window.location.pathname.split("/")[0].indexOf(".")&&"/"!==window.location.pathname&&history.pushState({},"",window.location.pathname+"/");