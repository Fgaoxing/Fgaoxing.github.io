{"version":3,"file":"../../../js/plugins/rightMenus.92a156a1.js","names":["RightMenus","defaultEvent","defaultGroup","messageRightMenu","volantis","GLOBAL_CONFIG","plugins","message","enable","rightmenu","corsAnywhere","rightmenus","options","urlRegx","imgRegx","initialMenu","fun","init","pjax","send","hideMenu","isReadModel","readMode","readClipboard","async","e","navigator","permissions","query","name","state","clipboard","readText","window","clipboardRead","writeClipText","writeText","then","Promise","resolve","catch","reject","writeClipImg","t","n","i","Image","crossOrigin","addEventListener","document","createElement","o","getContext","width","height","drawImage","toBlob","write","ClipboardItem","src","insertAtCaret","selectionStart","selectionEnd","selection","focus","createRange","text","scrollTop","value","substring","length","getElementById","querySelectorAll","a","l","s","r","querySelector","c","d","u","mouseEvent","isInputBox","selectText","inputValue","isLink","linkUrl","isMediaLink","mediaLinkUrl","isImage","isArticle","pathName","isReadClipboard","isShowMusic","statusCheck","m","Object","assign","initEvent","elementAppend","contextmenu","menuEvent","parentNode","removeChild","className","id","body","appendChild","menuPosition","clientX","clientY","documentElement","clientWidth","clientHeight","style","display","menuControl","offsetWidth","offsetHeight","left","top","notice","menuNotic","console","error","globalDataSet","forEach","firstElementChild","nodeName","getAttribute","articleShowLink","every","method","handle","start","item","hide","nextElementSibling","getSelection","toString","target","tagName","toLowerCase","href","test","currentSrc","location","pathname","aplayer","RightMenuAplayer","APlayer","player","musicAlwaysShow","status","oncontextmenu","ctrlKey","stopPropagation","preventDefault","removeEventListener","RightMenusFunction","debug","globalData","groupName","eventName","VolantisApp","icon","iconPrefix","time","onclick","aplayerBackward","aplayerToggle","aplayerForward","localStorage","getItem","displayMode","setItem","copyText","utilWriteClipText","messageCopyright","copyLink","copyAll","select","copyPaste","copyCut","copyImg","hideMessage","printMode","question","printHtml","DOMController","setAttribute","removeList","setStyleList","setTimeout","print","innerHTML","reload","ScrollReveal","clean","fadeToggleList","toggleClassList","setStyle","backgroundColor","hasClass","freeze","requestAnimationFrame","readyState"],"sources":["js/plugins/rightMenus.92a156a1.js"],"mappings":"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","sourcesContent":["const RightMenus={defaultEvent:[\"copyText\",\"copyLink\",\"copyPaste\",\"copyAll\",\"copyCut\",\"copyImg\",\"printMode\",\"readMode\"],defaultGroup:[\"navigation\",\"inputBox\",\"seletctText\",\"elementCheck\",\"elementImage\",\"articlePage\"],messageRightMenu:volantis.GLOBAL_CONFIG.plugins.message.enable&&volantis.GLOBAL_CONFIG.plugins.message.rightmenu.enable,corsAnywhere:volantis.GLOBAL_CONFIG.plugins.rightmenus.options.corsAnywhere,urlRegx:/^((https|http)?:\\/\\/)+[A-Za-z0-9]+\\.[A-Za-z0-9]+[\\/=\\?%\\-&_~`@[\\]\\':+!]*([^<>\\\"\\\"])*$/,imgRegx:/\\.(jpe?g|png|webp|svg|gif|jifi)(-|_|!|\\?|\\/)?.*$/,initialMenu:()=>{RightMenus.fun.init(),volantis.pjax.send((()=>{RightMenus.fun.hideMenu(),volantis.isReadModel&&RightMenus.fun.readMode()}))},readClipboard:async()=>{let e;switch((await navigator.permissions.query({name:\"clipboard-read\"})).state){case\"granted\":case\"prompt\":e=await navigator.clipboard.readText();break;default:window.clipboardRead=!1}return e},writeClipText:e=>navigator.clipboard.writeText(e).then((()=>Promise.resolve())).catch((e=>Promise.reject(e))),writeClipImg:async(e,t,n)=>{const i=new Image;i.crossOrigin=\"Anonymous\",i.addEventListener(\"load\",(()=>{let e=document.createElement(\"canvas\"),o=e.getContext(\"2d\");e.width=i.width,e.height=i.height,o.drawImage(i,0,0),e.toBlob((e=>{navigator.clipboard.write([new ClipboardItem({\"image/png\":e})]).then((e=>{t(e)})).catch((e=>{n(e)}))}),\"image/png\")}),!1),i.src=`${e}?(lll￢ω￢)`},insertAtCaret:(e,t)=>{const n=e.selectionStart,i=e.selectionEnd;if(document.selection)e.focus(),document.selection.createRange().text=t,e.focus();else if(n||\"0\"==n){var o=e.scrollTop;e.value=e.value.substring(0,n)+t+e.value.substring(i,e.value.length),e.focus(),e.selectionStart=n+t.length,e.selectionEnd=n+t.length,e.scrollTop=o}else e.value+=t,e.focus()}};RightMenus.fun=(()=>{const e=volantis.GLOBAL_CONFIG.plugins.rightmenus,t={},n=document.getElementById(\"rightmenu-wrapper\"),i=document.getElementById(\"rightmenu-content\"),o=document.querySelectorAll(\"#rightmenu-content li.menuLoad-Content\"),a=document.querySelectorAll(\"#rightmenu-content li, #rightmenu-content hr, #menuMusic\"),l=document.getElementById(\"read_bkg\"),s=document.getElementById(\"menuMusic\"),r=document.querySelector(\"#menuMusic .backward\"),c=document.querySelector(\"#menuMusic .toggle\"),d=document.querySelector(\"#menuMusic .forward\");let u={mouseEvent:null,isInputBox:!1,selectText:\"\",inputValue:\"\",isLink:!1,linkUrl:\"\",isMediaLink:!1,mediaLinkUrl:\"\",isImage:!1,isArticle:!1,pathName:\"\",isReadClipboard:!0,isShowMusic:!1,statusCheck:!1};const m=Object.assign({},u);return t.initEvent=()=>{t.elementAppend(),t.contextmenu(),t.menuEvent()},t.elementAppend=()=>{l&&l.parentNode.removeChild(l);const e=document.createElement(\"div\");e.className=\"common_read_bkg common_read_hide\",e.id=\"read_bkg\",window.document.body.appendChild(e)},t.menuPosition=e=>{try{let o=e.clientX,a=e.clientY,l=document.documentElement.clientWidth||document.body.clientWidth,s=document.documentElement.clientHeight||document.body.clientHeight;n.style.display=\"block\",t.menuControl(e);let r=i.offsetWidth,c=i.offsetHeight,d=o+r>l?o-r+10:o,u=a+c>s?a-c+10:a;u=a+c>s&&u<c&&a<c?u+(s-c-u-10):u,n.style.left=`${d}px`,n.style.top=`${u}px`,volantis.GLOBAL_CONFIG.plugins.message.rightmenu.notice&&t.menuNotic()}catch(e){return console.error(e),t.hideMenu(),!0}return!1},t.menuControl=n=>{t.globalDataSet(n),s&&(s.style.display=u.isShowMusic?\"block\":\"none\"),o.forEach((t=>{t.style.display=\"none\";const n=t.firstElementChild.nodeName,i=t.firstElementChild.getAttribute(\"data-group\"),o=t.firstElementChild.getAttribute(\"data-event\");if(u.statusCheck||u.isArticle)switch(i){case\"inputBox\":u.isInputBox&&(t.style.display=\"block\",\"copyCut\"!==o||u.selectText||(t.style.display=\"none\"),\"copyAll\"!==o||u.inputValue||(t.style.display=\"none\"),\"copyPaste\"!==o||u.isReadClipboard||(t.style.display=\"none\"));break;case\"seletctText\":u.selectText&&(t.style.display=\"block\");break;case\"elementCheck\":(u.isLink||u.isMediaLink)&&(t.style.display=\"block\");break;case\"elementImage\":u.isImage&&(t.style.display=\"block\");break;case\"articlePage\":u.isArticle&&(t.style.display=\"block\");break;default:t.style.display=\"A\"===n?u.isArticle&&!u.statusCheck&&e.options.articleShowLink?\"block\":\"none\":\"block\"}else(\"A\"===n||RightMenus.defaultGroup.every((e=>i!==e)))&&(t.style.display=\"block\")})),volantis.mouseEvent=n,volantis.rightmenu.method.handle.start();let i={item:null,hide:!0};a.forEach((e=>{if(\"HR\"===e.nodeName){if(e.style.display=\"block\",!i.item)return void(i.item=e);(i.hide||\"hr\"===i.item.nextElementSibling.nodeName)&&(i.item.style.display=\"none\"),i.item=e,i.hide=!0}else\"block\"===e.style.display&&i.hide&&(i.hide=!1)})),i.item&&i.hide&&(i.item.style.display=\"none\")},t.globalDataSet=t=>{u=Object.assign({},m),u.mouseEvent=t,u.selectText=window.getSelection().toString(),\"input\"!==t.target.tagName.toLowerCase()&&\"textarea\"!==t.target.tagName.toLowerCase()||(u.isInputBox=!0,u.inputValue=t.target.value),u.isInputBox&&!1===window.clipboardRead&&(u.isReadClipboard=!1),t.target.href&&RightMenus.urlRegx.test(t.target.href)&&(u.isLink=!0,u.linkUrl=t.target.href),t.target.currentSrc&&RightMenus.urlRegx.test(t.target.currentSrc)&&(u.isMediaLink=!0,u.mediaLinkUrl=t.target.currentSrc),u.isMediaLink&&RightMenus.imgRegx.test(u.mediaLinkUrl)&&(u.isImage=!0),document.querySelector(\"#post.article\")&&(u.isArticle=!0,u.pathName=window.location.pathname),volantis.GLOBAL_CONFIG.plugins.aplayer?.enable&&\"undefined\"!=typeof RightMenuAplayer&&void 0!==RightMenuAplayer.APlayer.player&&(e.options.musicAlwaysShow||\"play\"===RightMenuAplayer.APlayer.status||\"undefined\"===RightMenuAplayer.APlayer.status)&&(u.isShowMusic=!0),(u.selectText||u.isInputBox||u.isLink||u.isMediaLink)&&(u.statusCheck=!0)},t.contextmenu=()=>{window.document.oncontextmenu=e=>e.ctrlKey||document.body.offsetWidth<=500?(t.hideMenu(),!0):t.menuPosition(e),n.oncontextmenu=e=>(e.stopPropagation(),e.preventDefault(),!1),window.removeEventListener(\"blur\",t.hideMenu),window.addEventListener(\"blur\",t.hideMenu),document.body.removeEventListener(\"click\",t.hideMenu),document.body.addEventListener(\"click\",t.hideMenu)},t.menuEvent=()=>{o.forEach((n=>{let i=n.firstElementChild.getAttribute(\"data-event\");const o=n.firstElementChild.getAttribute(\"id\"),a=n.firstElementChild.getAttribute(\"data-group\");\"A\"!==n.firstElementChild.nodeName&&n.addEventListener(\"click\",(()=>{try{RightMenus.defaultEvent.every((e=>i!==e))?\"seletctText\"===a?RightMenusFunction[o](u.selectText):\"elementCheck\"===a?RightMenusFunction[o](u.isLink?u.linkUrl:u.mediaLinkUrl):\"elementImage\"===a?RightMenusFunction[o](u.mediaLinkUrl):RightMenusFunction[o]():t[i]()}catch(t){volantis.GLOBAL_CONFIG.debug&&console.error({id:o,error:t,globalData:u,groupName:a,eventName:i}),RightMenus.messageRightMenu&&VolantisApp.message(\"错误提示\",t,{icon:e.options.iconPrefix+\" fa-exclamation-square red\",time:\"15000\"})}}))})),d&&c&&d&&(r.onclick=e=>{e.preventDefault(),e.stopPropagation(),RightMenuAplayer.aplayerBackward()},c.onclick=e=>{e.preventDefault(),e.stopPropagation(),RightMenuAplayer.aplayerToggle()},d.onclick=e=>{e.preventDefault(),e.stopPropagation(),RightMenuAplayer.aplayerForward()})},t.hideMenu=()=>{n.style.display=null,n.style.left=null,n.style.top=null},t.menuNotic=()=>{const t=\"true\"===localStorage.getItem(\"NoticeRightMenu\");RightMenus.messageRightMenu&&!t&&VolantisApp.message(\"右键菜单\",\"唤醒原系统菜单请使用：<kbd>Ctrl</kbd> + <kbd>右键</kbd>\",{icon:e.options.iconPrefix+\" fa-exclamation-square red\",displayMode:1,time:9e3},(()=>{localStorage.setItem(\"NoticeRightMenu\",\"true\")}))},t.copyText=()=>{VolantisApp.utilWriteClipText(u.selectText).then((()=>{RightMenus.messageRightMenu&&VolantisApp.messageCopyright()})).catch((t=>{RightMenus.messageRightMenu&&VolantisApp.message(\"系统提示\",t,{icon:e.options.iconPrefix+\" fa-exclamation-square red\",displayMode:1,time:9e3})}))},t.copyLink=()=>{VolantisApp.utilWriteClipText(u.linkUrl||u.mediaLinkUrl).then((()=>{RightMenus.messageRightMenu&&VolantisApp.messageCopyright()})).catch((t=>{RightMenus.messageRightMenu&&VolantisApp.message(\"系统提示\",t,{icon:e.options.iconPrefix+\" fa-exclamation-square red\",displayMode:1,time:9e3})}))},t.copyAll=()=>{u.mouseEvent.target.select()},t.copyPaste=async()=>{const e=await RightMenus.readClipboard()||\"\";RightMenus.messageRightMenu&&!1===window.clipboardRead?VolantisApp.message(\"系统提示\",\"未授予剪切板读取权限！\"):RightMenus.messageRightMenu&&\"\"===e?VolantisApp.message(\"系统提示\",\"仅支持复制文本内容！\"):RightMenus.insertAtCaret(u.mouseEvent.target,e)},t.copyCut=()=>{const e=u.mouseEvent.target.selectionStart,n=u.mouseEvent.target.selectionEnd,i=u.inputValue;t.copyText(u.selectText),u.mouseEvent.target.value=i.substring(0,e)+i.substring(n,i.length),u.mouseEvent.target.selectionStart=e,u.mouseEvent.target.selectionEnd=e,u.mouseEvent.target.focus()},t.copyImg=()=>{volantis.GLOBAL_CONFIG.plugins.message.rightmenu.notice&&VolantisApp.message(\"系统提示\",\"复制中，请等待。\",{icon:e.options.iconPrefix+\" fa-images\"}),RightMenus.writeClipImg(u.mediaLinkUrl,(t=>{RightMenus.messageRightMenu&&(VolantisApp.hideMessage(),VolantisApp.message(\"系统提示\",\"图片复制成功！\",{icon:e.options.iconPrefix+\" fa-images\"}))}),(t=>{console.error(t),RightMenus.messageRightMenu&&(VolantisApp.hideMessage(),VolantisApp.message(\"系统提示\",\"复制失败：\"+t,{icon:e.options.iconPrefix+\" fa-exclamation-square red\",time:9e3}))}))},t.printMode=()=>{if(window.location.pathname===u.pathName)if(RightMenus.messageRightMenu){const e='是否打印当前页面？<br><em style=\"font-size: 80%\">建议打印时勾选背景图形</em><br>';VolantisApp.question(\"\",e,{time:9e3},(()=>{t.printHtml()}))}else t.printHtml()},t.printHtml=()=>{volantis.isReadModel&&t.readMode(),DOMController.setAttribute(\"details\",\"open\",\"true\"),DOMController.removeList([\".cus-article-bkg\",\".iziToast-overlay\",\".iziToast-wrapper\",\".prev-next\",\"footer\",\"#l_header\",\"#l_cover\",\"#l_side\",\"#comments\",\"#s-top\",\"#BKG\",\"#rightmenu-wrapper\",\".nav-tabs\",\".parallax-mirror\",\".new-meta-item.share\",\"div.footer\"]),DOMController.setStyleList([[\"body\",\"backgroundColor\",\"unset\"],[\"#l_main\",\"width\",\"100%\"],[\"#post\",\"boxShadow\",\"none\"],[\"#post\",\"background\",\"none\"],[\"#post\",\"padding\",\"0\"],[\"h1\",\"textAlign\",\"center\"],[\"h1\",\"fontWeight\",\"600\"],[\"h1\",\"fontSize\",\"2rem\"],[\"h1\",\"marginBottom\",\"20px\"],[\".tab-pane\",\"display\",\"block\"],[\".tab-content\",\"borderTop\",\"none\"],[\".highlight>table pre\",\"whiteSpace\",\"pre-wrap\"],[\".highlight>table pre\",\"wordBreak\",\"break-all\"],[\".fancybox img\",\"height\",\"auto\"],[\".fancybox img\",\"weight\",\"auto\"]]),setTimeout((()=>{window.print(),document.body.innerHTML=\"\",window.location.reload()}),50)},t.readMode=()=>{\"function\"==typeof ScrollReveal&&ScrollReveal().clean(\"#comments\"),DOMController.fadeToggleList([document.querySelector(\"#l_header\"),document.querySelector(\"footer\"),document.querySelector(\"#s-top\"),document.querySelector(\".article-meta#bottom\"),document.querySelector(\".prev-next\"),document.querySelector(\"#l_side\"),document.querySelector(\"#comments\")]),DOMController.toggleClassList([[document.querySelector(\"#l_main\"),\"common_read\"],[document.querySelector(\"#l_main\"),\"common_read_main\"],[document.querySelector(\"#l_body\"),\"common_read\"],[document.querySelector(\"#safearea\"),\"common_read\"],[document.querySelector(\"#pjax-container\"),\"common_read\"],[document.querySelector(\"#read_bkg\"),\"common_read_hide\"],[document.querySelector(\"h1\"),\"common_read_h1\"],[document.querySelector(\"#post\"),\"post_read\"],[document.querySelector(\"#l_cover\"),\"read_cover\"],[document.querySelector(\".widget.toc-wrapper\"),\"post_read\"]]),DOMController.setStyle(\".copyright.license\",\"margin\",\"15px 0\"),volantis.isReadModel=void 0===volantis.isReadModel||!volantis.isReadModel,volantis.isReadModel?(RightMenus.messageRightMenu&&VolantisApp.message(\"系统提示\",\"阅读模式已开启，您可以点击屏幕空白处退出。\",{backgroundColor:\"var(--color-read-post)\",icon:e.options.iconPrefix+\" fa-book-reader\",displayMode:1,time:5e3}),document.querySelector(\"#l_body\").removeEventListener(\"click\",t.readMode),document.querySelector(\"#l_body\").addEventListener(\"click\",(e=>{DOMController.hasClass(e.target,\"common_read\")&&t.readMode()}))):(document.querySelector(\"#l_body\").removeEventListener(\"click\",t.readMode),document.querySelector(\"#post\").removeEventListener(\"click\",t.readMode),DOMController.setStyle(\".prev-next\",\"display\",\"flex\"),DOMController.setStyle(\".copyright.license\",\"margin\",\"15px -40px\"))},{init:t.initEvent,hideMenu:t.hideMenu,readMode:t.readMode}})(),Object.freeze(RightMenus),volantis.requestAnimationFrame((()=>{\"loading\"!==document.readyState?RightMenus.initialMenu():document.addEventListener(\"DOMContentLoaded\",(function(){RightMenus.initialMenu()}))}));"]}