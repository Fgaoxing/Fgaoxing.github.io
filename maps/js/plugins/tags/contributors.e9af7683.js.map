{"version":3,"file":"../../../../js/plugins/tags/contributors.e9af7683.js","names":["ContributorsJS","requestAPI","t","r","e","n","o","Promise","a","s","l","i","setTimeout","fetch","then","clearTimeout","ok","json","Error","catch","layout","el","api","querySelector","remove","forEach","html_url","login","avatar_url","avatar","innerHTML","innerText","start","document","getElementsByClassName","length","getAttribute","Object","class","volantis","GLOBAL_CONFIG","default","addEventListener"],"sources":["js/plugins/tags/contributors.e9af7683.js"],"mappings":"AAAA,MAAMA,eAAe,CAACC,WAAW,CAACC,EAAEC,EAAEC,KAAK,IAAIC,EAAE,GAAG,SAASC,IAAI,OAAO,IAAIC,SAAQ,CAAEC,EAAEC,KAAK,IAAIC,EAAE,EAAEC,EAAEC,YAAW,KAAM,IAAIF,IAAIA,EAAE,EAAEC,EAAE,KAAKF,EAAE,QAAQ,GAAGJ,GAAGD,IAAK,GAAE,KAAKS,MAAMX,GAAGY,MAAK,SAAUZ,GAAG,GAAG,IAAIQ,IAAIK,aAAaJ,GAAGH,EAAEN,GAAGS,EAAE,KAAKD,EAAE,GAAGR,EAAEc,GAAG,OAAOd,EAAEe,OAAO,MAAM,IAAIC,MAAM,+BAAgC,IAAGJ,MAAK,SAAUZ,GAAGG,EAAE,EAAEF,EAAED,EAAG,IAAGiB,OAAM,SAAUjB,GAAGG,EAAE,GAAGA,GAAG,EAAEO,YAAW,KAAMN,GAAI,GAAE,MAAMF,GAAI,GAAG,GAAE,CAAnW,EAAqW,EAAGgB,OAAOlB,IAAI,MAAMC,EAAED,EAAEmB,GAAGrB,eAAeC,WAAWC,EAAEoB,KAAI,SAAUlB,GAAGD,EAAEoB,cAAc,iBAAiBC,SAAS,IAAInB,EAAE,IAAID,GAAG,IAAIqB,SAAQ,CAAEtB,EAAEC,KAAK,IAAIE,EAAE,0BAA0BA,GAAG,0EAA0EA,GAAG,UAAUH,EAAEuB,SAAS,KAAKpB,GAAG,aAAaH,EAAEwB,MAAM,WAAWxB,EAAEyB,YAAY1B,EAAE2B,QAAQ,oCAAoCvB,GAAG,2BAA2BH,EAAEwB,MAAM,gBAAgBrB,GAAG,OAAOD,GAAGC,GAAG,QAAS,IAAGH,EAAEoB,cAAc,eAAeO,UAAUzB,CAAE,IAAE,WAAY,IAAIF,EAAEoB,cAAc,qBAAqBC,SAASrB,EAAEoB,cAAc,mBAAmBQ,UAAU,cAAc,CAAC,MAAM7B,GAAG,CAAE,GAAC,EAAG8B,MAAM,KAAK,MAAM9B,EAAE+B,SAASC,uBAAuB,uBAAuB,IAAI,IAAI/B,EAAE,EAAEA,EAAED,EAAEiC,OAAOhC,IAAI,CAAC,MAAME,EAAEH,EAAEC,GAAGG,EAAED,EAAE+B,aAAa,OAAO,GAAG,MAAM9B,EAAE,CAAC,IAAIF,EAAE,IAAIiC,OAAOjC,EAAEiB,GAAGhB,EAAED,EAAEkB,IAAIhB,EAAEF,EAAEkC,MAAMjC,EAAE+B,aAAa,SAAShC,EAAEyB,OAAOU,SAASC,cAAcC,QAAQZ,OAAO7B,eAAeoB,OAAOhB,EAAE,CAAC,IAAIJ,eAAegC,QAAQC,SAASS,iBAAiB,iBAAgB,WAAY1C,eAAegC,OAAQ","sourcesContent":["const ContributorsJS={requestAPI:(t,r,e)=>{let n=5;!function o(){return new Promise(((a,s)=>{let l=0,i=setTimeout((()=>{0===l&&(l=2,i=null,s(\"请求超时\"),0==n&&e())}),5e3);fetch(t).then((function(t){if(2!==l&&(clearTimeout(i),a(t),i=null,l=1),t.ok)return t.json();throw new Error(\"Network response was not ok.\")})).then((function(t){n=0,r(t)})).catch((function(t){n>0?(n-=1,setTimeout((()=>{o()}),5e3)):e()}))}))}()},layout:t=>{const r=t.el;ContributorsJS.requestAPI(t.api,(function(e){r.querySelector(\".loading-wrap\").remove();var n=\"\";(e||[]).forEach(((r,e)=>{var o='<div class=\"user-card\">';o+='<a class=\"card-link\" target=\"_blank\" rel=\"external noopener noreferrer\"',o+=' href=\"'+r.html_url+'\">',o+='<img alt=\"'+r.login+'\" src=\"'+(r.avatar_url||t.avatar)+'\" onerror=\"errorImgAvatar(this)\">',o+='<div class=\"name\"><span>'+r.login+\"</span></div>\",o+=\"</a>\",n+=o+=\"</div>\"})),r.querySelector(\".group-body\").innerHTML=n}),(function(){try{r.querySelector(\".loading-wrap svg\").remove(),r.querySelector(\".loading-wrap p\").innerText(\"加载失败，请稍后重试。\")}catch(t){}}))},start:()=>{const t=document.getElementsByClassName(\"contributorsjs-wrap\");for(var r=0;r<t.length;r++){const n=t[r],o=n.getAttribute(\"api\");if(null!=o){var e=new Object;e.el=n,e.api=o,e.class=n.getAttribute(\"class\"),e.avatar=volantis.GLOBAL_CONFIG.default.avatar,ContributorsJS.layout(e)}}}};ContributorsJS.start(),document.addEventListener(\"pjax:complete\",(function(){ContributorsJS.start()}));"]}