{"version":3,"file":"../sw.js","names":["CACHE_NAME","cachelist","not_network","My_Domain","out_url","debug","myconsole","success","t","console","log","warning","info","error","cdn","gh","jsdelivr","url","tianli1","tianli2","tianli3","tianli5","cdnn","xyh","cky","ftft","combine","chuqi","npm","eleme","jjz","jjz_unpkg","sourceg","GNT","unpkg","afdelivr","sourcegcdn","cdnjs","tianli","nkd","bootcdn","baomitu","staticfile","myblog","mian","vercel","vercelcn","github","cfpage","cfpage2","netlify","gcore","self","db","read","n","type","Promise","e","caches","open","then","match","Request","encodeURIComponent","text","catch","write","o","put","Response","addEventListener","skipWaiting","waitUntil","replace","Math","random","toString","addAll","lfetch","AbortController","arrayBuffer","status","headers","any","Array","isArray","length","r","AggregateError","forEach","push","map","fetch","signal","mode","indexOf","abort","c","handleerr","split","handle","async","URL","href","substr","origin","delete","clone","respondWith","request","clients","claim"],"sources":["sw.js"],"mappings":"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","sourcesContent":["var CACHE_NAME=\"MyCache\";let cachelist=[\"/404.html\",\"/NoNetwork/\"],not_network=\"/NoNetwork/\",My_Domain=\"www.yt-blog.top\",out_url=[],debug=!0,myconsole={success:t=>{console.log(`%c${t}`,\"border-left: 5px solid green;box-shadow: 0 0 32px 0 #79797951;text-decoration: none;border-radius: 3px;color:white !important;background:black;padding: 3px;\")},warning:t=>{console.log(`%c${t}`,\"border-left: 5px solid yellow;box-shadow: 0 0 32px 0 #79797951;text-decoration: none;border-radius: 3px;color:white !important;background:black;padding: 3px;\")},info:t=>{console.log(`%c${t}`,\"border-left: 5px solid dodgerblue;box-shadow: 0 0 32px 0 #79797951;text-decoration: none;border-radius: 3px;color:white !important;background:black;padding: 3px;\")},error:t=>{console.log(`%c${t}`,\"border-left: 5px solid red;box-shadow: 0 0 32px 0 #79797951;text-decoration: none;border-radius: 3px;color:white !important;background:black;padding: 3px;\")},debug:t=>{console.log(`%c${t}`,\"border-left: 5px solid gray;box-shadow: 0 0 32px 0 #79797951;text-decoration: none;border-radius: 3px;color:white !important;background:black;padding: 3px;\")}},cdn={gh:{jsdelivr:{url:\"https://cdn.jsdelivr.net/gh\"},tianli1:{url:\"https://cdn1.tianli0.top/gh\"},tianli2:{url:\"https://cdn2.tianli0.top/gh\"},tianli3:{url:\"https://cdn3.tianli0.top/gh\"},tianli5:{url:\"https://cdn5.tianli0.top/gh\"},cdnn:{url:\"https://cdn.yt-blog.top/gh\"},xyh:{url:\"https://cdn.oblivionocean.top/gh\"},cky:{url:\"https://jsew.cky.codes/gh\"},ftft:{url:\"https://jsd.iftft.com/gh\"}},combine:{jsdelivr:{url:\"https://cdn.jsdelivr.net/combine\"},chuqi:{url:\"https://cdn.chuqis.com/combine\"}},npm:{eleme:{url:\"https://npm.elemecdn.com\"},jsdelivr:{url:\"https://cdn.jsdelivr.net/npm\"},jjz:{url:\"https://jsd.onmicrosoft.cn/npm\"},jjz_unpkg:{url:\"https://unpkg.onmicrosoft.cn\"},jjz_unpkg:{url:\"https://npm.onmicrosoft.cn\"},sourceg:{url:\"https://npm.sourcegcdn.com\"},GNT:{url:\"https://cdn.bilicdn.tk/npm\"},tianli1:{url:\"https://cdn1.tianli0.top/npm\"},tianli2:{url:\"https://cdn2.tianli0.top/npm\"},tianli3:{url:\"https://cdn3.tianli0.top/npm\"},tianli5:{url:\"https://cdn5.tianli0.top/npm\"},unpkg:{url:\"https://unpkg.com\"},chuqi:{url:\"https://cdn.chuqis.com/npm\"},afdelivr:{url:\"https://cdn.afdelivr.com/npm\"},sourcegcdn:{url:\"https://npm.sourcegcdn.com\"}},cdnjs:{cdnjs:{url:\"https://cdnjs.cloudflare.com/ajax/libs\"},jsdelivr:{url:\"https://cdn.jsdelivr.net/gh/cdnjs/cdnjs@master/ajax/libs\"},tianli:{url:\"https://cdn1.tianli0.top/gh/cdnjs/cdnjs@master/ajax/libs\"},cdnn:{url:\"https://cdn.yt-blog.top/cdnjs\"},xyh:{url:\"https://cdn.oblivionocean.top/cdnjs\"},nkd:{url:\"https://mirrors.sustech.edu.cn/cdnjs/ajax/libs\"},bootcdn:{url:\"https://cdn.bootcdn.net/ajax/libs\"},baomitu:{url:\"https://lib.baomitu.com\"},staticfile:{url:\"https://cdn.staticfile.org\"},sourcegcdn:{url:\"https://cdnjs.sourcegcdn.com/ajax/libs\"}},myblog:{mian:{url:\"https://www.yt-blog.top\"},vercel:{url:\"https://vercel.yt-blog.top\"},vercelcn:{url:\"https://vercel-china.yt-blog.top\"},github:{url:\"https://github.yt-blog.top\"},cfpage:{url:\"https://cfpage.yt-blog.top\"},cfpage2:{url:\"https://fgaoxing-github-io.pages.dev\"},netlify:{url:\"https://netlify.yt-blog.top\"},gcore:{url:\"https://gcore.yt-blog.top\"}}};self.db={read:(t,n)=>(n||(n={type:\"text\"}),new Promise(((n,e)=>{caches.open(CACHE_NAME).then((e=>{e.match(new Request(`https://LOCALCACHE/${encodeURIComponent(t)}`)).then((function(t){t||n(null),t.text().then((t=>n(t)))})).catch((()=>{n(null)}))}))}))),write:(t,n)=>new Promise(((e,o)=>{caches.open(CACHE_NAME).then((function(o){o.put(new Request(`https://LOCALCACHE/${encodeURIComponent(t)}`),new Response(n)),e()})).catch((()=>{o()}))}))},self.addEventListener(\"install\",(function(t){self.skipWaiting(),t.waitUntil(caches.open(CACHE_NAME).then((function(t){db.read(\"uuid\").then((function(n){return n||(myconsole.info(\"SW初始化\"),db.write(\"uuid\",\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,(function(t){var n=16*Math.random()|0;return(\"x\"==t?n:3&n|8).toString(16)})))),myconsole.info(\"SW开始\"),t.addAll(cachelist)}))})))}));const lfetch=function(t,n){let e=new AbortController;const o=function(t){return new Promise(((n,e)=>{t.arrayBuffer().then((function(e){n(new Response(e,{status:t.status,headers:t.headers}))})).catch((function(t){e(t)}))}))};return Promise.any||(Promise.any=function(t){return new Promise(((n,e)=>{let o=(t=Array.isArray(t)?t:[]).length,r=[];if(0===o)return e(new AggregateError(\"All promises were rejected\"));t.forEach((t=>{t.then((t=>{n(t)}),(t=>{o--,r.push(t),0===o&&e(new AggregateError(r))}))}))}))}),Promise.any(t.map((t=>new Promise(((n,r)=>{fetch(t,{signal:e.signal,mode:-1!==t.indexOf(\"https://netlify.yt-blog.top\")?\"no-cors\":\"cors\"}).then(o).then((t=>{200==t.status?(e.abort(),n(t)):r(t)})).catch((function(t){\"AbortError: The user aborted a request.\"!==t.toString()&&(myconsole.error(\"无法请求\"+t.toString()),r(t))}))}))))).catch((function(n){return new Promise((function(r,c){\"Uncaught (in promise) AggregateError: All promises were rejected\"===n.toString()&&fetch(t,{signal:e.signal}).then(o).then((t=>{r(t)})).catch((function(t){\"AbortError: The user aborted a request.\"!==t.toString()&&c(t)}))}))}))},handleerr=function(t,n){return t.url.split(\"/\")[2]===My_Domain||-1!==t.url.split(\"/\")[2].indexOf(\"localhost\")?caches.match(t).then((function(t){return myconsole.warning(\"当前域名下的页面请求失败，推测可能是无法与服务器通信，读取缓存\"),t||caches.match(new Request(not_network))})):new Response(`<p>资源发生错误</p>\\n    <p>${n}</p>`,{headers:{\"content-type\":\"text/html; charset=utf-8\"}})},handle=async function(t){const n=t.url;let e=new URL(n);const o=e.href.substr(e.origin.length),r=n.split(\"/\")[2];if(o.match(/\\/sw\\.js/g))return fetch(t);for(let t in cdn){if(n in out_url){myconsole.info(n+\" 被禁止加速\");break}for(let e in cdn[t]){if(r==(cdn[t][e].url.indexOf(\"https://\")<0?cdn[t][e].url.split(\"http://\")[1].split(\"/\")[0]:cdn[t][e].url.split(\"https://\")[1].split(\"/\")[0])&&n.match(cdn[t][e].url)){let o=[];for(let r in cdn[t])o.push(n.replace(cdn[t][e].url,cdn[t][r].url));return lfetch(o).then((function(t){return t}))}}}return myconsole.warning(t.url+\" 没有加速\"),fetch(t).then((function(n){if(!n)throw\"error\";return caches.open(CACHE_NAME).then((function(e){return\"http\"!==t.url.split(\":\")[0]&&\"https\"!==t.url.split(\":\")[0]||(e.delete(t).catch((function(t){})),e.put(t,n.clone()).catch((function(t){}))),n})).catch((function(t){}))})).catch((function(n){return myconsole.error(t.url+\" 请求失败\"),r===My_Domain||-1!==r.indexOf(\"localhost\")?caches.match(t).then((function(t){return myconsole.warning(\"当前域名下的页面请求失败，推测可能是无法与服务器通信，读取缓存\"),t||caches.match(new Request(not_network))})):new Response(`<h1>资源发生错误</h1>\\n    <b>${n}</b>`,{headers:{\"content-type\":\"text/html; charset=utf-8\"}})}))};self.addEventListener(\"fetch\",(async t=>{try{t.respondWith(handle(t.request)),myconsole.success(t.request.url+\" 请求成功\")}catch(n){t.respondWith(handleerr(t.request,n))}})),self.addEventListener(\"activate\",(async function(t){self.clients.claim()}));\n"]}